env:
  TIMEZONE: "Europe/Dublin"
  SECRET_KEY_FROM_SECRET: "tandoor-secrets"  # Chart pulls from secret
  POSTGRES_DB: tandoor
  POSTGRES_USER: tandoor

postgresql:
  enabled: true
  auth:
    postgresPasswordSecretRef:
      name: tandoor-secrets
      key: POSTGRES_POSTGRES_PASSWORD
    database: tandoor
    username: tandoor
    passwordSecretRef:
      name: tandoor-secrets
      key: POSTGRES_PASSWORD  # Chart supports secretRef

persistence:
  enabled: true
  media:
    size: 10Gi
  static:
    size: 2Gi

ingress:
  main:
    enabled: true
    className: nginx  # Your nginx ingress class
    annotations:
      cert-manager.io/cluster-issuer: "letsencrypt-prod"  # Your issuer name
      nginx.ingress.kubernetes.io/ssl-redirect: "true"
    hosts:
      - host: tandoor.home
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: recipes-tandoor-tls  # Cert-manager auto-creates
        hosts:
          - tandoor.home

image:
  repository: ghcr.io/tandoorrecipes/recipes
  tag: "2.4.1"  # Latest as of now[web:41]
